#ifdef CONFIG_TOP
#include "proffieboard_config.h"
#define NUM_BLADES 1
#define NUM_BUTTONS 2
#define VOLUME 2300
const unsigned int maxLedsPerStrip = 144;
#define CLASH_THRESHOLD_G 3.0
#define ENABLE_AUDIO
#define ENABLE_MOTION
#define ENABLE_WS2811
#define ENABLE_SD
#define IDLE_OFF_TIME 90 * 1000
#define SAVE_STATE
#define NO_COLOR_SWING
#endif

#ifdef CONFIG_PROP
#include "../props/saber_sa22c_buttons.h"
#endif

#ifdef CONFIG_PRESETS
Preset presets[] = {
{"Jedi_01", "tracks/SWTOR3.wav",
StylePtr<InOutHelper<Lockup<LocalizedClash<OriginalBlast<AudioFlicker<DeepSkyBlue,SteelBlue>,Rgb16<65535,0,0>>,Yellow,80,80>,Pulsing<Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Pulsing<Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,1500>,2000>,RandomPerLEDFlicker<DeepSkyBlue,White>>,175,500,Black>>(), "jedi_01"},

{"Battle", "tracks/SW_AST2.wav",
StylePtr<InOutHelper<LocalizedClash<Lockup<OriginalBlast<Gradient<Pulsing<Cyan,LightCyan,3800>,AudioFlicker<Cyan,DeepSkyBlue>,AudioFlicker<Cyan,DeepSkyBlue>,AudioFlicker<Cyan,DeepSkyBlue>>,Yellow>,Pulsing<Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Pulsing<Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,1500>,2000>,AudioFlicker<Blue,White>>,Yellow,80,85>,180,500,Black>>(), "Battle"},

{"Energy_Saber", "tracks/Energy_Saber.wav",
StylePtr<InOutHelper<SimpleClash<Lockup<Blast<OnSpark<Gradient<AudioFlicker<White,DeepSkyBlue>,AudioFlicker<DeepSkyBlue,LightCyan>,DeepSkyBlue,DeepSkyBlue>,White,400>,White,200,100,400>,Pulsing<Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Pulsing<Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,1500>,2000>,AudioFlicker<OnSpark<White,Blue,200>,Blue>>,White,40>,180,500,Black>>(), "Energy_Saber"},

{"Satele", "tracks/SW_DarkDeeds.wav",
StylePtr<InOutHelper<OnSpark<Blast<LocalizedClash<Lockup<RandomFlicker<DeepSkyBlue,Blue>,Pulsing<Gradient<RandomFlicker<DeepSkyBlue,Blue>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,RandomFlicker<DeepSkyBlue,Blue>,RandomFlicker<DeepSkyBlue,Blue>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,RandomFlicker<DeepSkyBlue,Blue>,RandomFlicker<DeepSkyBlue,Blue>>,Pulsing<Gradient<RandomFlicker<DeepSkyBlue,Blue>,RandomFlicker<DeepSkyBlue,Blue>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,RandomFlicker<DeepSkyBlue,Blue>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,RandomFlicker<DeepSkyBlue,Blue>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,RandomFlicker<DeepSkyBlue,Blue>>,Gradient<RandomFlicker<DeepSkyBlue,Blue>,RandomFlicker<DeepSkyBlue,Blue>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,RandomFlicker<DeepSkyBlue,Blue>,RandomFlicker<DeepSkyBlue,Blue>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,RandomFlicker<DeepSkyBlue,Blue>>,1500>,2000>,RandomPerLEDFlicker<Red,White>>,Yellow,120>,White>,BrownNoiseFlicker<DeepSkyBlue,Azure,180>,1100>,200,500>>(), "Sateele"},

{"Unlightstable", "tracks/Immortal_Emperor.wav",
StylePtr<InOutHelper<LocalizedClash<Lockup<OriginalBlast<Gradient<StyleFire<White,LightCyan,0,2,FireConfig<0,2000,5>,FireConfig<3000,0,0>,FireConfig<0,5000,10>,FireConfig<0,0,10>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Orange>,Pulsing<Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<Yellow,RandomPerLEDFlicker<Yellow,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<Yellow,RandomPerLEDFlicker<Yellow,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Pulsing<Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<Yellow,RandomPerLEDFlicker<Yellow,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<Yellow,RandomPerLEDFlicker<Yellow,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<Yellow,RandomPerLEDFlicker<Yellow,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,1500>,2000>,AudioFlicker<Blue,White>>,Yellow,80,65>,200,500,Black>>(), "Unlightstable"},

{"proto1", "tracks/Maul_Theme.wav",
StylePtr<InOutHelper<OriginalBlast<LocalizedClash<Lockup<Gradient<Pulsing<Gradient<White,LightCyan,DeepSkyBlue>,Gradient<White,LightCyan,DeepSkyBlue>,6000>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Pulsing<Gradient<Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>>,Pulsing<Gradient<Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>>,Gradient<Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Strobe<Yellow,BrownNoiseFlicker<Red,White,100>,50,1>,Gradient<AudioFlicker<Pulsing<White,LightCyan,1800>,Pulsing<SteelBlue,LightCyan,1800>>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>>,1500>,2000>,RandomPerLEDFlicker<Red,White>>,Yellow,80,75>,Orange>,200,500,Black>>(), "proto1"},
	
{"Corellian_SS", "tracks/Energy_Saber.wav",
StylePtr<InOutHelper<Lockup<LocalizedClash<OriginalBlast<AudioFlicker<DeepSkyBlue,SteelBlue>,Rgb16<65535,0,0>>,Yellow,80,80>,Pulsing<Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Pulsing<Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,1500>,2000>,RandomPerLEDFlicker<DeepSkyBlue,White>>,175,500,Black>>(), "Corellian_SS"},

{"Korriban_SS", "tracks/Immortal_Emperor.wav",
StylePtr<InOutHelper<Lockup<LocalizedClash<OriginalBlast<AudioFlicker<DeepSkyBlue,SteelBlue>,Rgb16<65535,0,0>>,Yellow,80,80>,Pulsing<Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Pulsing<Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,Gradient<AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,Strobe<White,RandomPerLEDFlicker<White,DeepSkyBlue>,15,3>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>,AudioFlicker<DeepSkyBlue,SteelBlue>>,1500>,2000>,RandomPerLEDFlicker<DeepSkyBlue,White>>,175,500,Black>>(), "Korriban_SS"},


   
   { "SmthJedi", "tracks/mars.wav",
    &style_charging, "Battery\nLevel"}
};
BladeConfig blades[] = {
 { 0, WS2811BladePtr<144, WS2811_ACTUALLY_800kHz | WS2811_GRB>(), CONFIGARRAY(presets) },
};
#endif

#ifdef CONFIG_BUTTONS
Button PowerButton(BUTTON_POWER, powerButtonPin, "pow");
Button AuxButton(BUTTON_AUX, auxPin, "aux");

#endif